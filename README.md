# school-in-Korea-analysis
0.개요
데이터 공부한지 1달쯤 후에 한 첫번째 개인 프로젝트라 부족한게 많지만 공공데이터를 가지고 여러가지 시도를 해본 프로젝트.

1.목적:

“어느 고등학교를 가야 할까요?”라는 중3, 중2 학부모들의 질문으로 각종 인터넷 커뮤니티 게시판이 뜨겁다. 2015 개정교육과정 도입, 수능 개편안 1년 유예에 자사고·일반고 동시 선발까지 교육제도의 큰 변화에 우리 아이에게 맞는 학교를 찾으려는 고민이 깊어지기 때문이다. 
 
고교 내신이 중요해지고, 수시 학생부종합 전형 시대에 비교과 활동까지 갖추어야 할 것이라는 이론은 인지했지만, 막상 구체적인 지망 고교를 선택하자니 막연하다. 입소문에 의지하기 보다는 정확한 정보가 필요하다.

그래서 학교별 정보가 공시되어 있는 ‘학교알리미’를 통해 고교 선택에 참고할 만한 항목을 모아보고 빅데이터 기법을 활용해 분석해 보기로 했다.



2.변수 설정

종속변수:졸업생의 진로 현황


중학교의 졸업생 진로현황을 보면 일반고,특성화고,마이스터고,자율형 공립,자율형 사립,과학고,외고,국제고등 특수목적고,예고,체고 등으로 나뉘는데 이 진학율을 종속변수로 사용하였다.

진학률을 최대한 잘 설명가능한 가설을 찾기위해 주어진 데이터를 관련성 있는 4가지 특성으로 분류해 보았다.




독립변수(4가지 큰 틀로 분류):

1)교사현황-

교사1인당 학생수,교사 1인당 주간 평균수업수



2)교육활동-

'동아리 활동' 이나 '방과후학교' 개설이 활발한 학교라면 비교과 관련 지원이 적극적인 학교라고

볼 수 있다. 예로, 동아리 중 자율동아리 수가 많다는 것은 관심분야 학업능력, 전공적합성을 높

이기 위한 학생들의 참여도가 놓고, 그에 대한 환경이 조성돼 있다고 판단할 수 있다. 

다양한 비교과 기회를 제공하는 학교를 선택한다면 학생부종합전형 등 입시에 도움을 받을 수 있을 것이다

특성화 프로그램 유무(교과교실제 운영,자율형학교, 수준별 이동수업, 영어교육 프로그램) 와 자율동아리 참여율,창의적 체험활동 등을 변수로 사용하였다.




3)학업성취도-

'교과별 학업성취사항' 을 통해 해당 학교의 내신 수준을 확인할 수 있다. 학년별, 교과별로 평균

과 표준편차를 통해 시험 난이도를 추정할 수 있고, 성취도별 분포비율을 통해 재학생들의 학업

수준을 예상할 수 있다. 

고교별 학생들의 학업 수준은 국가학업성취도 평가를 통해 확인 가능하다. 고2를 대상으로 전국

적으로 실시하는 국가학업성취도평가는 국어, 수학, 영어 3과목을 보통학력 이상, 기초학력, 기

초학력 미달 3단계로 나누어 공개한다. 보통학력 이상 학생 비율이 높은 학교들의 면학 분위기가

좋다는 것이 일반적이다. 다만, 국가학업성취도평가는 학교 자율 선택으로 공개하지

않는 학교가 많아서 설명변수에서 제거하였다.



4)교육여건-

학교시설,도서관 이용 현황,도서관 자료구입비 예산액, 운영비 예산,도서관 학습자료 대출수,창의적 체험활동 예산지원금,동아리활동 예산지원 현황을 변수로 사용하였다.




3.데이터 전처리

Scaling:

전처리 과정으로 모든 자료에 선형 변환을 적용하여 전체 자료의 분포를 평균 0, 분산 1이 되도록 만듬.

자료의 overflow나 underflow를 방지하고 독립 변수의 공분산 행렬의 condition number 를 감소시켜 최적화 과정에서의 안정성 및 수렴 속도를 향상시키기 위해 스케일링 사용.

그중에 RobustScaler를 사용함.   outlier 영향 최소화 하기 위해 평균값 대신 median 값,interquartile range 이용.



pandas,sklearn,numpy,tensorflow 등의 분석패키지를  이용하여 데이터 처리.




4.k-means 이용

1)SSE(오차제곱합) 최소되도록 최적 k값 찾기 - elbow 보면 4,5개 정도가 적절.

2)정확한 답(클러스터의 갯수 및 소속)을 검사위해 clustring의 품질을 정량적으로 계산 - 실루엣그래프


3)kmeans 로 나온 각 cluster별 특목고','자율형학교','일반고','마이스터고','특성화고','예체고 평균값


KMeans(algorithm='auto', copy_x=True, init='k-means++', max_iter=300,
    n_clusters=5, n_init=10, n_jobs=1, precompute_distances='auto',
    random_state=0, tol=0.0001, verbose=0)

[[  1.48719677   1.83018868  88.01509434   0.67574124   6.27385445
    1.00269542]
 [  1.13485425   2.39087452  60.24474018   2.20418251  31.94702155   1.        ]
 [  2.32466368  31.49103139  43.41748879   2.12107623  18.12286996
    1.14170404]
 [  1.56911392   3.36776371  73.3171308    1.16464135  18.5035443
    1.0950211 ]
 [  0.66948357   0.9342723   35.15446009   3.542723    57.60375587
    1.17042254]]





KMeans(algorithm='auto', copy_x=True, init='k-means++', max_iter=300,
    n_clusters=4, n_init=10, n_jobs=1, precompute_distances='auto',
    random_state=0, tol=0.0001, verbose=0)

[[  1.55055038   2.63793395  83.9491956    0.81024555   9.15453006
    1.07290432]
 [  0.69649123   1.18912281  39.00035088   3.32385965  53.7154386
    1.1845614 ]
 [  2.2965812   30.89316239  44.07991453   2.0542735   18.2025641
    1.12735043]
 [  1.34449036   2.59876033  66.33422865   1.6964876   25.97747934
    1.00964187]]


해석: 이것을 봐도 군을 더 늘려도 특목고,자사고 진학이 높은 학교군과 취업위주의 특성화고 진학이 높은 군은 그대로고 일반고 비중이 높은 일반적인 학교들이 나뉘어 지는걸 볼수 있다.


4)행렬산점도- 각 설명 변수의 상관성이 없이 잘나오지만  교사1인당 주수업수와 교사1인당 학생수가 어느정도 상관성을 보이므로 다중공선성 제거


5.pca

pca 분석한 결과 에이겐밸류의 비율을 볼때 세가지 특성이 거의 90%이상 설명. 변수들을 교사현황, 학생 교육활동, 학교 교육여건으로 세가지 카테고리로 분류했던 가설이 의미가 있다고 보인다.


6.결정트리(랜덤포레스트)

변수 중요도 사용



7.model evaluation

모델 성능평가 -Confusion matrix

Precision을 보면 



Out[17]:
array([[107,  16,  17,  92],
       [ 13,  21,   4,  24],
       [ 20,   2,   7,  24],
       [ 91,  16,  25, 152]],


 실업계 비중이 높은 2번그룹과 특목고와 자사고 비중이 높은 3번 그룹은 학교수가 적고 예체능고와 지방의 학생수가 적은 학교들 등이 이상치로 존재하여 분산이 넓어서 4개의 분류로 나눌경우 정확도가 떨어지는것을 보이는 반면,
 1번,4번 그룹 즉 데이터가 많은 일반고교는 상대적으로 높은 정확도를 보이는 것을 볼수있다. 학업성취도를 변수로 사용했다면 더 높은 정확도와 의미를 도출가능 할수 있었겠지만 학교들이 자료를 비공개 하는 곳이 많아서 진학률만을 사용하였더니
진학률의 숫자 차이가 크지 않아서 정확도가 높게 나오지 않지만 kmeans 분류로 보아 알수있듯이 유의미 하게 학교들이 나뉘어 지는 것을 볼수 있고 트리모델의 변수중요도를 볼때 그것을 결정하는 주요 요소들은 교사현황, 학생 교육활동, 학교 교육여건 이라는 3가지 조건이 중요하고
그중에서도 '교사1인당주수업' '1인당도서관예산' '1인당 대출자료수''1인당 동아리 예산'등이 가장높은 특성변수임을 볼수있다.  

8.결론
학생1명당 교사의 비율이 높고 교사당 담당하는 수업의 수가 낮을수록 질이 높아질 것이라는 가정은 유의미하게 보이고, 1인당 도서관예산은 자료구입비와 운영비를 학생수로 나눈 변수인데 학교의 교육여건이 중요한 것으로 보인다. 
전체적으로 각 학습예산 변수들이 학교진학수준을 결정짓는 주요요인으로 나온다. 상위권 학교와 하위권 학교를 살펴보면 강남등 부유한 지역에 상위권이 몰려있고 시골지역에 하위권이 몰려있는걸 볼수있다. 결국 학군과 학습예산,교육여건등이 연관이 있고
그것이 높은 진학률에 관계되는것을 알수있다.
